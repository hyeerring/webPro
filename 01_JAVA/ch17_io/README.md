## [17] I/O 자바파일 입출력

**💡입출력이란?**

입력(Input)과 출력(Output)을 뜻한다. 프로그램에 입력하는 것은 Input이며, 프로그램에서 출력하는 것을 Output이라고 한다. 앞에서 살펴본 `System.outprintln("Hello World!");` 구문이 바로 Output이다. 어떤 데이터를 '읽는다' 라고 하면 입력(Input)이라고 생각하고 '데이터를 쓴다' 라고 하면 출력이라고 생각하면 쉽다.

- **Input**

  파일 데이터를 읽는다.

  키보드의 데이터를 읽는다.

  네트워크상의 데이터를 읽는다. (전송)

- **Output**

  파일에 데이터를 쓴다.

  모니터에 데이터를 쓴다.

  네트워크상에 데이터를 쓴다. (전송)



### Java에서의 파일 입출력 API

|          | 이미지 동영상 등 데이터용(1byte 단위) | 문자열용(2byte 단위) |
| -------- | ------------------------------------- | -------------------- |
| 입력 API | InputStream                           | Reader               |
| 출력 API | OutputStream                          | Writer               |



💡 스트림(Stream)이란 데이터를 입출력하는데 사용되는 연결통로로 연속적인 데이터의 흐름을 물(stream)에 비유하여 붙여진 이름이다. 스트림은 하나의 스트림으로 입출력을 동시에 수행할 수 없으며 입출력을 동시에 수행하려면 2개의 스트림이 필요하다.

- 파일로부터 데이터를 읽는 3단계

  파일(연결통로)을 연다. ➡️ 파일의 데이터를 읽는다. (필요한 만큼 반복) ➡️ 파일을 닫는다.

- 파일에 데이터를 쓰는 3단계

  파일(연결통로)을 연다. ➡️ 파일에 데이터를 쓴다. ➡️ 파일을 닫는다.



### InputStream 사용법

1. InputStream(추상) 클래스를 상속받은 여러 가지 API 하위 클래스 중의 하나를 이용해서 객체를 만든다. 또는 다른 클래스의 메소드에서 반환(리턴)되는 타입 객체를 얻는다.
2. `read()`, `read(byte[])` 두 개의 메소드를 이용하여 데이터를 읽는다.

- `read()` 1byte씩 읽는다. 속도가 느리다
- `read(byte[])` byte[]만큼씩 읽는다. 속도가 빠르다.

3. 예외 처리와 무조건 `close()` 실행

- I/O를 하면서 반드시 해야 하는 예외처리가 있다. `IOException`이다. (반드시 하도록 컴파일러가 강요)
- I/O 작업 마지막은 `close()`로 외부 연결을 끝낸다.



### OutputStream 사용법

1. OutputStream(추상) 클래스를 상속받은 여러가지 API 하위 클래스들 중의 하나를 이용해서 객체를 만든다. 또는 다른 클래스의 메소드에서 반환(리턴)되는 타입 객체를 얻는다.
2. `write()`메소드를 이용해서 데이터를 읽는다.
3. `write(int)`, `write(byte[])`, `write(byte[], int, int)` 세개의 메소드를 이용할 수 있다.
4. 예외 처리와 무조건 `close()` 실행

- I/O를 하면서 반드시 해야 하는 예외처리가 있다. `IOException`이다. (반드시 하도록 컴파일러가 강요)
- I/O 작업 마지막은 `close()`로 외부 연결을 끝낸다.



### 파일 읽고 쓰기

#### 읽고, 쓰기를 동시에 – 파일 복사

1. 파일을 읽고, 다른 파일에 쓰고, 결국은 파일 복사이다.
2. 작업순서 : `InputStream`, `OutputStream` 준비 > `is`로 읽어들인 데이터를 `os`으로 씀 > 외부연결 `close()`함.
3. `read()` : `read()`, `read(byte[])` 등 다양한 메소드 이용 가능
4. `write()` : `write(byte)`, `write(byte[])`, `(write(byte[], int, int)` 등 다양한 메소드 이용 가능
